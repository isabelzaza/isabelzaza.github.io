<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<title>Loading experiment...</title>
	<meta name="description" content="Experiment loader page.">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<script>
		// test urls for each condition
		var test_urls = [
			"https://oplab.barrios.io/oplab/60b69c4ae51c7f5ca816cf3b/execute?mode=live&nextType=HIT&nextID=60b7d36a2184f802c47f6838&stimuliFolderID=60b7d2692184f802c47f6835",
			"https://oplab.barrios.io/oplab/60b69c4ae51c7f5ca816cf3b/execute?mode=live&nextType=HIT&nextID=60b7d35d2184f802c47f6837&stimuliFolderID=60b7d3042184f802c47f6836"
			];
		// random assignment probabilities for each condition, sum of the probabilities should be 1
		var test_prob = [1/2, 1/2];

		var r = Math.random();
		var p = test_prob.length - 1;
		while (r < test_prob.slice(0, p).reduce(function(t, c) { return t + c; }, 0)) {
			p -= 1;
		}
		var test_url = test_urls[p];
		if (window.location.search.length > 0) {
			test_url = test_url + (test_url.includes('?') ? '&' : '?') + window.location.search.substring(1);
		}
	</script>
</head>
<body>
	<p id="loading-message">Loading experiment...</p>

	<script>
		document.addEventListener("DOMContentLoaded", function(e) {
			location.href = test_url;
			setTimeout(function() {
				document.getElementById("loading-message").innerHTML = "<a href=\"" + test_url + "\">Click here</a> to start the experiment.";
			}, 2000);
		});
	</script>
</body>
</html>